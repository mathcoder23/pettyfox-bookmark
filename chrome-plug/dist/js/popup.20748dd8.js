(function(e){function t(t){for(var r,i,u=t[0],c=t[1],f=t[2],s=0,p=[];s<u.length;s++)i=u[s],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(p.length)p.shift()();return a.push.apply(a,f||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,u=1;u<n.length;u++){var c=n[u];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={popup:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var f=0;f<u.length;f++)t(u[f]);var l=c;a.push([1,"chunk-vendors"]),n()})({1:function(e,t,n){e.exports=n("897b")},"4f5c":function(e,t,n){"use strict";var r=n("2b0e"),o=n("53ca"),a=(n("ac1f"),n("466d"),n("d3b7"),n("bc3a")),i=n.n(a),u=n("b85c"),c=(n("5319"),n("4d63"),n("25f0"),n("498a"),n("b64b"),{format:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(arguments.length<=1)return e;for(var t=arguments[0],n=1;n<arguments.length;n++)t=t.replace(new RegExp("\\{"+(n-1)+"\\}","g"),arguments[n]);return t},trimSubmit:function(e){if("string"===typeof e)return e.trim();if("object"===Object(o["a"])(e)){for(var t=Object.keys(e),n=0,r=t;n<r.length;n++){var a=r[n];0!==a.indexOf("_")&&0!==a.indexOf("$")||delete e[a]}for(var i in e)"undefined"===typeof e[i]?delete e[i]:"string"===typeof e[i]&&(e[i]=e[i].trim(),0!==e[i].length&&"undefined"!==e[i]||delete e[i])}return e},stream2mapStr:function(e,t){var n="";if(e instanceof Array){var r,o=Object(u["a"])(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;n+=t(a)}}catch(i){o.e(i)}finally{o.f()}n=n.substr(0,n.length-1)}return n},getArrayObjectItem:function(e,t,n){if(e)for(var r in e)if(e[r][t]===n)return e[r];return{}},isNotBlank:function(e){return"string"===typeof e&&e.trim().length>0}}),f=null,l=null,s="",p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="";if("object"===Object(o["a"])(e)){n=0===t?"?":"";var r=0;for(var a in e)"number"!==typeof e[a]&&"boolean"!==typeof e[a]&&"string"!==typeof e[a]||(0===r?(r++,n+=a+"="+e[a]):n+="&"+a+"="+e[a])}return n};var m=function(e){s=e,l=i.a,null==l&&console.error("请配置axios"),f=l.create({baseURL:s,timeout:3e4}),f.interceptors.request.use((function(e){return console.log("request",e),e}),(function(e){return Promise.reject(e)})),f.interceptors.response.use((function(e){return console.log("response",e),e.data}),(function(e){return Promise.reject(new Error(e))}))},d=function(e,t,n){return new Promise((function(r,o){var a={method:"post"};a.url="string"===typeof e?e:e.uri,a.params=n,a.data=t,a.meta=Object.assign({flag:"apiPost"},e.meta),f(a).then((function(e){return r(e)})).catch((function(e){o(e)}))}))},b=function(e){return e.data&&(e.data=c.trimSubmit(e.data)),e.params&&(e.params=c.trimSubmit(e.params)),f(e)},h=function(e,t,n){return new Promise((function(r,o){var a={method:"post"};a.url="string"===typeof e?e:e.uri,a.params=n,a.data=p(t,1),a.meta=Object.assign({flag:"apiPost"},e.meta),a.headers={"Content-Type":"application/x-www-form-urlencoded"},f(a).then((function(e){return r(e)})).catch((function(e){o(e)}))}))},g=function(e,t,n){return new Promise((function(r,o){var a={method:"put"};a.url="string"===typeof e?e:e.uri,a.url=a.url+p(t),a.data=n,a.params=t,f(a).then((function(e){return r(e)})).catch((function(e){o(e)}))}))},v=function(e,t,n){return new Promise((function(r,o){var a={method:"delete"};a.url="string"===typeof e?e:e.uri,a.url=a.url+p(t),a.data=n,a.params=t,f(a).then((function(e){return r(e)})).catch((function(e){o(e)}))}))},y=function(e,t){return new Promise((function(n,r){var o={method:"get"};o.url="string"===typeof e?e:e.uri,o.params=t,f(o).then((function(e){return n(e)})).catch((function(e){r(e)}))}))},k=function(e,t){return new Promise((function(n,r){var o={method:"get"};o.url="string"===typeof e?e:e.uri,o.params=t,f(o).then((function(e){return n(e)})).catch((function(e){r(e)}))}))},O={init:m,apiList:k,apiGet:y,apiFormPost:h,apiPost:d,apiRequest:b,apiPut:g,apiDel:v},j={list:function(){return O.apiList("/bookmark/list")},search:function(e){return O.apiList("/bookmark/search",e)},resetIndex:function(e){return O.apiPost("/bookmark/resetIndex",e)},getIndex:function(e){return O.apiGet("/bookmark/getIndex",e)},searchSuggest:function(e){return O.apiList("/bookmark/searchSuggest",e)},save:function(e){return O.apiPost("/bookmark/save",e)},remove:function(e){return O.apiPost("/bookmark/remove",e)}};O.init("http://localhost:8080");var w={BookmarkApi:j};r["default"].prototype.$api=w},6793:function(e,t,n){"use strict";var r=n("2b0e"),o=n("5c96"),a=n.n(o);n("26af");r["default"].use(a.a)},"768c":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"标题"}},[n("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),n("el-form-item",{attrs:{label:"书签分组"}},[n("el-select",{attrs:{disabled:"",placeholder:"请选择标签分组"},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}},[n("el-option",{attrs:{label:"分组1",value:"shanghai"}})],1)],1),n("el-form-item",{attrs:{label:"书签地址"}},[n("el-input",{model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),n("el-form-item",{attrs:{label:"描述"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),n("el-form-item",[n("el-button",{on:{click:e.handleSubmit}},[e._v("保存")]),n("el-button",{on:{click:function(t){return e.$emit("close")}}},[e._v("取消")])],1)],1)},o=[],a=n("b85c"),i=n("53ca"),u=(n("ac1f"),n("5319"),n("4d63"),n("25f0"),n("498a"),n("b64b"),{format:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(arguments.length<=1)return e;for(var t=arguments[0],n=1;n<arguments.length;n++)t=t.replace(new RegExp("\\{"+(n-1)+"\\}","g"),arguments[n]);return t},trimSubmit:function(e){if("string"===typeof e)return e.trim();if("object"===Object(i["a"])(e)){for(var t=Object.keys(e),n=0,r=t;n<r.length;n++){var o=r[n];0!==o.indexOf("_")&&0!==o.indexOf("$")||delete e[o]}for(var a in e)"undefined"===typeof e[a]?delete e[a]:"string"===typeof e[a]&&(e[a]=e[a].trim(),0!==e[a].length&&"undefined"!==e[a]||delete e[a])}return e},stream2mapStr:function(e,t){var n="";if(e instanceof Array){var r,o=Object(a["a"])(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;n+=t(i)}}catch(u){o.e(u)}finally{o.f()}n=n.substr(0,n.length-1)}return n},getArrayObjectItem:function(e,t,n){if(e)for(var r in e)if(e[r][t]===n)return e[r];return{}},isNotBlank:function(e){return"string"===typeof e&&e.trim().length>0}}),c={name:"BookmarkEdit",data:function(){return{form:{}}},methods:{loadForm:function(e){this.form=Object.assign({},this.form,e)},handleSubmit:function(){var e=this;u.isNotBlank(this.form.url)?this.$api.BookmarkApi.save(this.form).then((function(t){200===t.code?(e.$emit("close"),e.$emit("update")):e.$message.warning(t.msg)})):this.$message("请输入书签地址")}}},f=c,l=n("2877"),s=Object(l["a"])(f,r,o,!1,null,"6145bac9",null);t["a"]=s.exports},"897b":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("page2-app")],1)},a=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("popup")],1)},u=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("bookmark-edit",{ref:"edit",on:{close:e.onClose,update:function(t){return e.$emit("update")}}})],1)},f=[],l=n("1da1"),s=(n("d3b7"),n("96cf"),n("768c")),p={name:"Popup",components:{BookmarkEdit:s["a"]},data:function(){return{tab:null}},mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getChannelData();case 2:e.tab=t.sent,e.$nextTick((function(){e.$refs.edit.loadForm({name:e.tab.title,url:e.tab.url})}));case 4:case"end":return t.stop()}}),t)})))()},methods:{onClose:function(){window.close()},getChromeTab:function(){return new Promise((function(e,t){chrome.tabs.getSelected(null,(function(t){e(t)}))}))}}},m=p,d=n("2877"),b=Object(d["a"])(m,c,f,!1,null,"3ace1de2",null),h=b.exports,g={name:"Page2App",components:{Popup:h},mounted:function(){}},v=g,y=Object(d["a"])(v,i,u,!1,null,"b07eb64e",null),k=y.exports,O={name:"App",components:{Page2App:k},mounted:function(){}},j=O,w=Object(d["a"])(j,o,a,!1,null,null,null),x=w.exports;n("6793"),n("4f5c");r["default"].config.productionTip=!1,new r["default"]({render:function(e){return e(x)}}).$mount("#app")}});
//# sourceMappingURL=popup.20748dd8.js.map